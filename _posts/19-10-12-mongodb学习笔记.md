---
layout:     post
title:      mongodb学习笔记
subtitle:   笔记
date:       2019-10-12
author:     Lan
header-img: img/blog-bak.jpg
catalog: true
tags:
    - 索引
---
>mongodb学习笔记

1. 基础增删改查（基础的增删改查sql命令操作略）


2. 索引 

# 基本内容：
  - 索引可以理解为书的目录，主要是方便检索，目的在于高效率的查询

  - 在mongodb查询数据时，主要是通过扫描数据库文件内容的方式进行查找。

  - 在未建立索引的情况下，查询某个doucument中的某个字段时（如查询用户collection中某个用户的name值），数据库操作流程是扫描所有文档，找到对应的目标字段值，这样为了查找一个而扫描所有无疑是低效、耗时的

  - 在建立索引进行查询的情况下，以对用户collection中所有用户的name建立索引的情况为例，就是将所有的name字段作为索引组织数据，查询时直接查询索引就可以找到对应数据。这种查找方式相比前一种，耗时很少，非常高效。
  
  - 优缺点：优点当然是高效快速，缺点则是在插入数据时，mongodb不仅要更新整个文档，还要更新所有的索引。
# 补充一些概念：
  - 地理空间索引：在mongodb中存储GeoJSON格式的数据，可以进行多种查询：交集，包含及接近
  - 固定集合：与普通集合的区别在于其本身是有限长度的，实质上也是一个循环队列
  - TTL索引：控制固定集合的中元素的有效时间，这种索引可以为文档设置有效的时间

  